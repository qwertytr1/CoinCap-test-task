"use strict";(self.webpackChunkcoinscap_test_task=self.webpackChunkcoinscap_test_task||[]).push([[950,606],{5950:(s,e,t)=>{t.r(e),t.d(e,{default:()=>f});var a=t(5043),i=t(5972),n=t(5010),l=t(7021),c=t(9029),d=t(6058),o=t(461),r=t(5606),p=t(9516),h=t(2393),x=t(1606),y=t(3216),j=t(579);const{Text:u}=i.A,{Option:m}=n.A;o.t1.register(o.PP,o.kc,o.FN,o.No,o.hE,o.m_,o.s$);const f=s=>{let{coin:e,onClose:t,onAddToPortfolio:i,chartData:o}=s;const[f,C]=(0,a.useState)(o||null),[S,g]=(0,a.useState)(!o),[v,k]=(0,a.useState)(""),[A,b]=(0,a.useState)("d1"),[U,_]=(0,a.useState)(!1),N=(0,y.Zp)();(0,a.useEffect)((()=>{if(!o){const s=localStorage.getItem("chartData_".concat(e.id,"_").concat(A));s?(C(JSON.parse(s)),g(!1)):(async s=>{if(!o){g(!0),k("");try{const t=(await(0,r.l)("/assets/".concat(e.id,"/history?interval=").concat(s))).data.data,a={labels:t.map((s=>(0,p.GP)((0,h.S)(s.time/1e3),"dd.MM.yyyy"))),datasets:[{label:"\u0426\u0435\u043d\u0430 ".concat(e.name," \u0432 USD"),data:t.map((s=>parseFloat(s.priceUsd))),borderColor:"rgba(75, 192, 192, 1)",fill:!1}]};C(a),localStorage.setItem("chartData_".concat(e.id,"_").concat(s),JSON.stringify(a))}catch(v){k("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0433\u0440\u0430\u0444\u0438\u043a\u0430.")}finally{g(!1)}}})(A)}}),[e.id,e.name,A,o]);return(0,j.jsxs)("div",{className:"coin-page",children:[(0,j.jsxs)("div",{className:"coin-info",children:[(0,j.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexWrap:"wrap"},children:[(0,j.jsx)("img",{width:50,src:"https://assets.coincap.io/assets/icons/".concat(e.symbol.toLowerCase(),"@2x.png"),alt:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f"}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h1",{children:e.name}),(0,j.jsxs)("p",{children:["\u0421\u0438\u043c\u0432\u043e\u043b: ",e.symbol]}),(0,j.jsxs)("p",{children:["\u0420\u0430\u043d\u0433: ",e.rank]}),(0,j.jsxs)("p",{children:["\u041f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435: ",e.supply]}),(0,j.jsxs)("p",{children:["\u0426\u0435\u043d\u0430 \u0432 USD: $",e.priceUsd]}),(0,j.jsxs)("p",{children:["\u0420\u044b\u043d\u043e\u0447\u043d\u0430\u044f \u043a\u0430\u043f\u0438\u0442\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0432 USD: $",e.marketCapUsd]}),(0,j.jsxs)("p",{children:["\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435: ",e.maxSupply]})]})]}),(0,j.jsxs)(n.A,{defaultValue:"d1",style:{width:120},onChange:s=>{b(s)},children:[(0,j.jsx)(m,{value:"d1",children:"1 \u0434\u0435\u043d\u044c"}),(0,j.jsx)(m,{value:"h12",children:"12 \u0447\u0430\u0441\u043e\u0432"}),(0,j.jsx)(m,{value:"h1",children:"1 \u0447\u0430\u0441"})]}),(0,j.jsx)(l.Ay,{onClick:()=>{t(),N("/")},style:{marginTop:"10px"},children:"\u041d\u0430\u0437\u0430\u0434"}),(0,j.jsx)(l.Ay,{type:"primary",onClick:()=>_(!0),style:{marginTop:"10px"},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]}),(0,j.jsx)("div",{className:"coin-chart",children:S?(0,j.jsx)(c.A,{}):v?(0,j.jsx)(u,{type:"danger",children:v}):f?(0,j.jsx)(d.N1,{data:f,options:{scales:{x:{display:!0,title:{display:!0,text:"\u0414\u0430\u0442\u0430"}},y:{display:!0,title:{display:!0,text:"\u0426\u0435\u043d\u0430 \u0432 USD"}}}}}):null}),(0,j.jsx)(x.default,{open:U,onClose:()=>_(!1),coins:[e],onAddCoins:s=>{s.forEach(i),_(!1)}})]})}},1606:(s,e,t)=>{t.r(e),t.d(e,{default:()=>d});var a=t(5043),i=t(4194),n=t(7021),l=t(1118),c=t(579);const d=s=>{let{open:e,onClose:t,coins:d,onAddCoins:o}=s;const[r,p]=(0,a.useState)({});return(0,c.jsx)(i.A,{title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043c\u043e\u043d\u0435\u0442",visible:e,onCancel:t,footer:[(0,c.jsx)(n.Ay,{onClick:t,children:"\u041e\u0442\u043c\u0435\u043d\u0430"},"cancel"),(0,c.jsx)(n.Ay,{type:"primary",onClick:()=>{const s=d.filter((s=>r[s.id]>0)).map((s=>({...s,quantity:r[s.id]||0})));o(s),p({}),t()},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"},"add")],children:(0,c.jsx)("div",{children:d.map((s=>(0,c.jsxs)("div",{children:[(0,c.jsxs)("p",{children:[s.name," (",s.symbol,") - ",s.priceUsd]}),(0,c.jsx)(l.A,{min:0,value:r[s.id]||0,onChange:e=>((s,e)=>{p((t=>({...t,[s]:e||0})))})(s.id,e)}),(0,c.jsxs)("p",{children:["\u0421\u0443\u043c\u043c\u0430: ",((r[s.id]||0)*parseFloat(s.priceUsd)).toFixed(2)]})]},s.id)))})})}}}]);
//# sourceMappingURL=950.480df30b.chunk.js.map